(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8e16"],{3124:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"animated fadeIn"},[n("b-form",{on:{submit:e.onSubmit,reset:e.onReset,keydown:function(t){return e.$errors.onKeydown(t)}}},[n("b-card",{attrs:{"border-variant":"info",header:"Secondary","header-border-variant":"info",align:"left"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("strong",[e._v("Permission Edit ")]),n("small",[e._v("Form")])]),n("b-form-group",{attrs:{label:"Name:","label-for":"name","invalid-feedback":e.$errors.first("name")}},[n("b-form-input",{attrs:{type:"text",placeholder:"Enter name",state:!e.$errors.has("name"),name:"name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("v-button",{on:{click:e.goBack}})],1)],1)],1)},i=[],a=(n("7f7f"),n("7514"),n("96cf"),n("3b8d")),o=n("cebc"),s=(n("c5f6"),n("2f62")),c=n("4fa3"),u=n("5a7c"),l=new c["a"],m={props:{id:{type:[String,Number],required:!0}},name:"PermissionEdit",middleware:"auth",metaInfo:function(){return{title:this.$t("settings")}},scrollToTop:!0,computed:Object(o["a"])({},Object(s["c"])(["role","permission"])),data:function(){return{form:{},show:!0,gender:[{value:1,text:"Male"},{value:2,text:"Female"}],allSelected:!1,indeterminate:!1}},methods:{onSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.$store.dispatch("permission/update",this.form);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onReset:function(e){var t=this;e.preventDefault(),t.show=!1,t.$nextTick(function(){t.show=!0,t.fetchPermission(t.id)})},fetchPermission:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this,e.next=3,l.find(t).then(function(e){n.form=u["a"].fetch(e),n.show=!0});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),goBack:function(){this.$router.push({name:"permission.index"})},disabledDate:function(e){return e>this.$moment()},submitFile:function(e){this.form.avatarUrl=e.getCroppedCanvas().toDataURL("image/png")},toggleAll:function(e){var t=this;t.form.permissions=e?t.permission.all.map(function(e){return e.name}):[]}},mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.watch(function(e){e.auth.authenticated&&(t.fetchPermission(t.id),t.$store.dispatch("role/all",function(e){e.removeParameters(["page","q","direction","sort"])}),t.$store.dispatch("permission/all",function(e){e.removeParameters(["page","q","direction","sort"])}))});case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{"form.permissions":function(e,t){0===e.length?(this.indeterminate=!1,this.allSelected=!1):e.length===this.permission.all.length?(this.indeterminate=!1,this.allSelected=!0):(this.indeterminate=!0,this.allSelected=!1)}},destroyed:function(){this.$errors.flush()}},f=m,h=n("2877"),d=Object(h["a"])(f,r,i,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0b8e16.0f955541.js.map